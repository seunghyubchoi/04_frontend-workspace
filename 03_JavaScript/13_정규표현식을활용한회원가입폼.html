<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        p {
            color: rgb(172, 172, 172);
            margin-left: 8px;
            margin-top: 0px;
        }
    </style>
</head>

<body>
    <fieldset>
        <form action="insert.me" method=get>

            * 아이디 : <input type="text" name="userId" id="userId" required>
            <p>첫글자는 반드시 영문자로, 그리고 영문자, 숫자 포함하여 총 4~12자로 입력하시오.</p>

            * 비밀번호 : <input type="password" name="userPwd1" id="userPwd1" required>
            <p>영문자, 숫자, 특수문자 포함하여 총 8자~15자로 입력하시오.</p>

            * 비밀번호 확인 : <input type="password" name="userPwd2" id="userPwd2" required>
            <p>위의 비밀번호 일치하게 입력하시.</p>

            * 이름 : <input type="text" name="userName" id="userName" required>
            <p>한글로만 이루어져야 되며 2글자 이상으로 입력하시오.</p>

            * 이메일 : <input type="email" name="email" id="email" required>
            <p>이메일 형식에 맞춰서 입력하시오.</p>

            * 취미 : <input type="text" name="hobby" id="hobby" list="hobbyList" placeholder="축구, 농구, 야구, 독서 등">
            <datalist id="hobbyList">
                <option value="축구"></option>
                <option value="농구"></option>
                <option value="야구"></option>
                <option value="독서"></option>
            </datalist>
            <br> <br>
            * 거주지 : <select name="address" id="address">
                <option value="서울">서울</option>
                <option value="인천">인천</option>
                <option value="부산">부산</option>
            </select>
            <br> <br>
            <input type="submit" value="회원가입" onclick="return validate();">
            <input type="reset" value="취소">
            <br> <br>
        </form>
        <script>
            function validate() {
                // input 요소 객체
                const idInput = document.getElementById("userId");
                const pwdInput1 = document.getElementById("userPwd1");
                const pwdInput2 = document.querySelector("#userPwd2");
                const nameInput = document.querySelector("#userName");

                // 1) 아이디 검사
                // 영소문자, 숫자로만, 4-12글자, 첫글자는 반드시 영문자

                let regExp = /^[a-z][a-z\d]{3,11}$/ // \d = 0-9
                // 중괄호 바로 앞에 있는 대괄호만 관리를 한다는 점을 기억!!

                if (!regExp.test(idInput.value)) {
                    alert("유효한 아이디를 입력해주세요");
                    idInput.select();
                    return false;
                }

                // 2) 비밀번호 검사
                // 영문자(대소문자), 숫자, 특수문자(!@#$%^&*)로 총 8~15 글자로 이뤄져야 됨
                // 특수문자 범위 정해주기
                regExp = /^[a-z\d!@#$%^&*]{8,15}$/i
                if (!regExp.test(pwdInput1.value)) {
                    alert("유효한 비밀번호를 입력해주세요");
                    pwdInput1.value = "";
                    pwdInput1.focus();
                    return false;
                }

                // 3) 비밀번호 일치
                if (pwdInput1.value != pwdInput2.value) {
                    alert("동일한 비밀번호를 입력해주세요");
                    pwdInput2.value = "";
                    pwdInput2.focus();
                    return false;
                }

                // 4) 이름
                //    한글(결합형태 ex.김자바)로만 2글자 이상
                regExp = /^[가-힣]{2,}$/;
                if (!regExp.test(nameInput.value)) {
                    alert("유효한 이름을 입력해주세요");
                    nameInput.value = "";
                    nameInput.select();
                    return false;
                }




                // const userId = document.getElementById("userId").value;
                // const userPwd1 = document.getElementById("userPwd1").value;
                // const userPwd2 = document.getElementById("userPwd2").value;
                // const userName = document.getElementById("userName").value;
                // const email = document.getElementById("email").value;

                // const regExpId = /^[a-z][a-z0-9]{4,12}$/;
                // if(regExpId.test(userId)) {
                //     alert("올바른 입력");
                // } else {
                //     alert("틀린 입력");
                // }
                let regExpPwd1 = /^.{8,15}$/;
                // const userPwd1 = prompt("비밀번호");
                // if (regExpPwd1.test(userPwd1)) {
                //     alert("굿 " + userPwd1 + "쓰");
                // } else {
                //     alert("ㄴㄴ");
                // }
                // if (userPwd1 != userPwd2) {
                //     alert("비밀번호가 일치하지 않습니다.");
                //     return false;
                // }
                // let regExpName = /^[가-힣]{2,}$/;
                // // if(regExpName.test(userName)){
                // //     alert("굿");
                // // } else {
                // //     alert("베드");
                // // }
                // let regExpEmail = /^.@[a-z].com+$/;
                // const email = prompt("이메일")
                // if (regExpEmail.test(email)) {
                //     alert("굿");
                // } else {
                //     alert("베드");
                // }
            }
        </script>
    </fieldset>

</body>

</html>